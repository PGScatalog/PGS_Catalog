{% extends 'catalog/base.html' %}

{% block title %}Download Information{% endblock %}


{% block content %}

<nav aria-label="You are here:">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="/">PGS Catalog</a></li>
    <li class="breadcrumb-item">Downloads</li>
  </ol>
</nav>


<h2 class="mr-auto pgs_page_title">Downloads</h2>

<div class="content_container">
  <div class="table-of-contents">
    <nav role="navigation">
      <h5>Table of Contents</h5>
      <ul>
        <li><a href="#dl_ftp_list">Available PGS Catalog downloads</a></li>
        <li><a href="#dl_ftp">PGS Catalog FTP structure</a></li>
        <li><a href="#dl_ftp_metadata">PGS Catalog Metadata</a></li>
        <li>
          <a href="#dl_scoring_files">PGS Scoring Files</a>
          <ul>
            <li>
              <a href="#dl_ftp_scoring">Formatted Files</a>
              <ul>
                <li><i class="fas fa-hashtag pgs_color_1"></i> <a href="#scoring_header">Header</a><span class="pl-2 pr-2">—</span><i class="fas fa-th pgs_color_1"></i> <a href="#scoring_columns">Columns</a><span class="pl-2 pr-2">—</span><i class="fas fa-copy pgs_color_1"></i> <a href="#scoring_changes">Format changes</a><span class="pl-2 pr-2">—</span><i class="far fa-copy pgs_color_1"></i> <a href="#scoring_previous">Previous formats</a></li>
              </ul>
            </li>
            <li>
              <a href="#dl_ftp_scoring_hm_pos">Harmonized Files</a>
              <ul>
                <li><i class="fas fa-file-signature pgs_color_1"></i> <a href="#hm_pos_fn">File name</a><span class="pl-2 pr-2">—</span><i class="fas fa-hashtag pgs_color_1"></i> <a href="#hm_pos_header">Header</a><span class="pl-2 pr-2">—</span><i class="fas fa-th pgs_color_1"></i> <a href="#hm_pos_columns">Additional Columns</a></li>
              </ul>
            </li>
          </ul>
        </li>

      </ul>
    </nav>
  </div>
</div>

<section>
  <h3 id="dl_ftp_list">Available PGS Catalog downloads</h3>
  <h4 class="pgs_subsection">FTP access</h4>
  <div class="row no-gutters pgs_vignette">
    <div class="col-xs-6 col-md-6">
      <div class="pgs_browse_item">
        <div class="pgs_data_access">
          <div>PGS Scoring Files & Metadata</div>
          <p>
            Individual PGS variants scoring and metadata files
          </p>
        </div>
        <a class="browse_link btn btn-pgs pgs_no_icon_link pgs-ftp-btn" href="{{ pgs_ftp_http_root }}/scores/" target="_blank"><span class="fas fa-folder"></span> View PGS Score Directories (FTP)</a>
      </div>
    </div>
    <div class="col-xs-6 col-md-6">
      <div class="pgs_browse_item">
        <div class="pgs_data_access">
          <div>PGS Catalog Metadata</div>
          <p>
            Files containing the whole PGS Catalog metadata
          </p>
        </div>
        <a class="browse_link btn btn-pgs pgs_no_icon_link pgs-ftp-btn" href="{{ pgs_ftp_http_root }}/metadata/" target="_blank"><span class="fas fa-folder"></span> Bulk Metadata Downloads (FTP)</a>
      </div>
    </div>
  </div>

  <h4 class="pgs_subsection">Programmatic access</h4>
  <div class="row no-gutters pgs_vignette">
    <div class="col-xs-6 col-md-6">
      <div class="pgs_browse_item">
        <div class="pgs_data_access">
          <div>PGS Catalog REST API</div>
          <p>
            Programmatic access to the PGS Catalog metadata
          </p>
        </div>
        <a class="browse_link btn btn-pgs pgs_no_icon_link" href="/rest/"><span class="fas fa-code"></span> REST API endpoint documentation</a>
      </div>
    </div>
    <div class="col-xs-6 col-md-6">
      <div class="pgs_browse_item">
        <div class="pgs_data_access">
          <div>Python package <span class="pgs_color_2">pgscatalog_utils</span></div>
          <p>
            A collection of tools, such as scoring files download
          </p>
        </div>
        <a class="browse_link btn btn-pgs pgs_no_icon_link" href="https://pypi.org/project/pgscatalog-utils/"><span class="fa-brands fa-python"></span> Python package documentation</a>
    </div>
  </div>
</section>

<section>
  <h3 id="dl_ftp">PGS Catalog FTP structure</h3>
  <p>The PGS Catalog FTP allows for consistent access to the bulk downloads, and is indexed by Polygenic Score (PGS) ID to allow programmatic access to score level data. The following diagram illustrates the FTP structure:</p>

  <div class="pgs_formatted_block">
    <pre>
<a href="{{ pgs_ftp_http_root }}">{{ pgs_ftp_root }}</a>
  ├── <span class="pgs_hl">pgs_scores_list.txt</span> <small>(list of Polygenic Score IDs)</small>
  ├── <a href="{{ pgs_ftp_http_meta }}"><b>metadata/</b></a> <small class="pgs_color_1">("bulk" metadata directory)</small>
  │     ├── <span class="pgs_hl">pgs_all_metadata.xlsx</span>
  │     ├── <span class="pgs_hl">pgs_all_metadata_</span>[<span class="pgs_hl_i">sheet_name</span>]<span class="pgs_hl">.csv</span> <small>(7 files)</small>
  │     ├── <span class="pgs_hl">pgs_all_metadata.tar.gz</span> <small>(xlsx + csv files)</small>
  │     ├── <a href="{{ pgs_ftp_http_meta }}/publications/"><b>publications/</b></a> <small class="pgs_color_1">("large studies" metadata directory)</small>
  │     └── <a href="{{ pgs_ftp_http_meta }}/previous_releases/"><b>previous_releases/</b></a>
  └── <a href="{{ pgs_ftp_http_root }}/scores"><b>scores/</b></a> <small class="pgs_color_1">(individual scores directory)</small>
        ├── <a href="{{ pgs_ftp_http_root }}/scores/PGS000001/"><b>PGS000001/</b></a>
        │     ├── <a href="{{ pgs_ftp_http_root }}/scores/PGS000001/Metadata/"><b>Metadata/</b></a>
        │     │     ├── <span class="pgs_hl">PGS000001_metadata.xlsx</span>
        │     │     ├── <span class="pgs_hl">PGS000001_metadata_</span>[<span class="pgs_hl_i">sheet_name</span>]<span class="pgs_hl">.csv</span> <small>(7 files)</small>
        │     │     ├── <span class="pgs_hl">PGS000001_metadata.tar.gz</span> <small>(xlsx + csv files)</small>
        │     │     └── <b>archived_versions/</b>
        │     └── <a href="{{ pgs_ftp_http_root }}/scores/PGS000001/ScoringFiles"><b>ScoringFiles/</b></a>
        │           ├── <span class="pgs_hl">PGS000001.txt.gz</span>
        │           ├── <b>archived_versions/</b>
        │           └── <a href="{{ pgs_ftp_http_root }}/scores/PGS000001/ScoringFiles/Harmonized"><b>Harmonized/</b></a>
        │                 ├── <span class="pgs_hl">PGS000001_hmPOS_GRCh37.txt.gz</span>
        │                 └── <span class="pgs_hl">PGS000001_hmPOS_GRCh38.txt.gz</span>
        ├── <a href="{{ pgs_ftp_http_root }}/scores/PGS000002/"><b>PGS000002/</b></a>
        &middot;     ├─ &middot;&middot;&middot;
        &middot;     └─ &middot;&middot;&middot;
        &middot;
        └── <b>PGS00XXXX/</b>
              ├─ &middot;&middot;&middot;
              └─ &middot;&middot;&middot;</pre>
  </div>
</section>

<section>
  {% include "catalog/downloads/metadata_files.html" %}
</section>

<section>
  <h3 class="mr-3" id="dl_scoring_files">PGS Scoring Files</h3>
</section>

<section>
  {% include "catalog/downloads/formatted_files.html" %}
</section>

<section class="mt-5">
  {% include "catalog/downloads/harmonized_files.html" %}
</section>

{% endblock %}
